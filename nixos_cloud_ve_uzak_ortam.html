
<!doctype html>
<html lang="tr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://nixogreniyoruz.kavakci.dev/nixos_cloud_ve_uzak_ortam.html">
      
      
        <link rel="prev" href="nixos_kurulumu_ve_konfigurasyonu.html">
      
      
      
      <link rel="icon" href="assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.20">
    
    
      
        <title>NixOS'u Cloud ve Uzak Ortamlara Deploy Etmek - NixOS Öğreniyoruz - Murat Çabuk</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.e53b48f4.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.06af60db.min.css">
      
      

  
  
  
  
  <style>:root{--md-annotation-icon:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M12%208a4%204%200%200%200-4%204%204%204%200%200%200%204%204%204%204%200%200%200%204-4%204%204%200%200%200-4-4%22/%3E%3C/svg%3E');}</style>


    
    
      
        <script src="https://unpkg.com/iframe-worker/shim"></script>
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="NixOS'u Cloud ve Uzak Ortamlara Deploy Etmek - NixOS Öğreniyoruz - Murat Çabuk" >
      
        <meta  property="og:description"  content="None" >
      
        <meta  property="og:image"  content="https://nixogreniyoruz.kavakci.dev/assets/images/social/nixos_cloud_ve_uzak_ortam.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://nixogreniyoruz.kavakci.dev/nixos_cloud_ve_uzak_ortam.html" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="NixOS'u Cloud ve Uzak Ortamlara Deploy Etmek - NixOS Öğreniyoruz - Murat Çabuk" >
      
        <meta  name="twitter:description"  content="None" >
      
        <meta  name="twitter:image"  content="https://nixogreniyoruz.kavakci.dev/assets/images/social/nixos_cloud_ve_uzak_ortam.png" >
      
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="#7EBAE4" data-md-color-accent="#7EBAE4">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#nixosu-cloud-ve-uzak-ortamlara-deploy-etmek" class="md-skip">
          Ana içeriğe geç
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Başlık">
    <a href="index.html" title="NixOS Öğreniyoruz - Murat Çabuk" class="md-header__button md-logo" aria-label="NixOS Öğreniyoruz - Murat Çabuk" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m7.352 1.592-1.364.002L5.32 2.75l1.557 2.713-3.137-.008-1.32 2.34h11.69l-1.353-2.332-3.192-.006-2.214-3.865zm6.175 0-2.687.025 5.846 10.127 1.341-2.34-1.59-2.765 2.24-3.85-.683-1.182h-1.336l-1.57 2.705-1.56-2.72zm6.887 4.195-5.846 10.125 2.696-.008 1.601-2.76 4.453.016.682-1.183-.666-1.157-3.13-.008L21.778 8.1l-1.365-2.313zM9.432 8.086l-2.696.008-1.601 2.76-4.453-.016L0 12.02l.666 1.157 3.13.008-1.575 2.71 1.365 2.315zM7.33 12.25l-.006.01-.002-.004-1.342 2.34 1.59 2.765-2.24 3.85.684 1.182H7.35l.004-.006h.001l1.567-2.698 1.558 2.72 2.688-.026-.004-.006h.01zm2.55 3.93 1.354 2.332 3.192.006 2.215 3.865 1.363-.002.668-1.156-1.557-2.713 3.137.008 1.32-2.34z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            NixOS Öğreniyoruz - Murat Çabuk
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              NixOS'u Cloud ve Uzak Ortamlara Deploy Etmek
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="slate" data-md-color-primary="#7EBAE4" data-md-color-accent="#7EBAE4"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="default" data-md-color-primary="#7EBAE4" data-md-color-accent="#7EBAE4"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Ara" placeholder="Ara" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Ara">
        
        <button type="reset" class="md-search__icon md-icon" title="Temizle" aria-label="Temizle" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Arama başlatılıyor
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/LinuxTurkey/nix-ogreniyoruz" title="Depoya git" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    LinuxTurkey/nix-ogreniyoruz
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigasyon" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="NixOS Öğreniyoruz - Murat Çabuk" class="md-nav__button md-logo" aria-label="NixOS Öğreniyoruz - Murat Çabuk" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m7.352 1.592-1.364.002L5.32 2.75l1.557 2.713-3.137-.008-1.32 2.34h11.69l-1.353-2.332-3.192-.006-2.214-3.865zm6.175 0-2.687.025 5.846 10.127 1.341-2.34-1.59-2.765 2.24-3.85-.683-1.182h-1.336l-1.57 2.705-1.56-2.72zm6.887 4.195-5.846 10.125 2.696-.008 1.601-2.76 4.453.016.682-1.183-.666-1.157-3.13-.008L21.778 8.1l-1.365-2.313zM9.432 8.086l-2.696.008-1.601 2.76-4.453-.016L0 12.02l.666 1.157 3.13.008-1.575 2.71 1.365 2.315zM7.33 12.25l-.006.01-.002-.004-1.342 2.34 1.59 2.765-2.24 3.85.684 1.182H7.35l.004-.006h.001l1.567-2.698 1.558 2.72 2.688-.026-.004-.006h.01zm2.55 3.93 1.354 2.332 3.192.006 2.215 3.865 1.363-.002.668-1.156-1.557-2.713 3.137.008 1.32-2.34z"/></svg>

    </a>
    NixOS Öğreniyoruz - Murat Çabuk
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/LinuxTurkey/nix-ogreniyoruz" title="Depoya git" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    LinuxTurkey/nix-ogreniyoruz
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NixOS
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Nix Dili
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Nix Dili
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="nix_lang/01_nix_dili_ve_ozellikleri.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Nix Dili ve Özellikleri
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="nix_lang/02_nix_dili_alistirmalari.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Nix Dili ile İlgili Alıştırmalar
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="nix_lang/03_nix_dili_gomulu.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Nix Dilinde Gömülü Fonksiyonlar
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Nix Paket Yöneticisi
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Nix Paket Yöneticisi
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="nix_package/nix_paket_yoneticisi.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Nix Paket Yöneticisi
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="nix_package/nix_shell_ve_profile.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Nix Shell ve Profile
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="nix_package/nix_flake_nedir.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Nix Flake Nedir?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="nix_package/birden_cok_paketi_ayni_repo_uzerinden_yayinlamak.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Birden Çok Paketi Aynı Repo Üzeriden Yayınlamak
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="nix_package/override_ve_overlay.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Override ve Overlay
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="nix_package/developer_ve_profile_ortamlari_olusturmak.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Developer ve Profile Ortamları Oluşturmak
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Sonrası
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Sonrası
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="nix_ile_nix_konfigurasyonu.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Nix ile NixOS Konfigürasyonu
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="module_ve_option_kullanimi.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module ve Option Kullanımı
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="nixos_kurulumu_ve_konfigurasyonu.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NixOS Kurulumu ve Konfigürasyonu
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    NixOS'u Cloud ve Uzak Ortamlara Deploy Etmek
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="nixos_cloud_ve_uzak_ortam.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    NixOS'u Cloud ve Uzak Ortamlara Deploy Etmek
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="İçindekiler">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      İçindekiler
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#nixos-generator-ile-iso-docker-image-ve-vm-olusturma" class="md-nav__link">
    <span class="md-ellipsis">
      NixOS-Generator ile ISO, Docker Image ve VM oluşturma
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nixosu-uzak-sistemlere-ve-clouda-kurmak" class="md-nav__link">
    <span class="md-ellipsis">
      NixOS'u Uzak Sistemlere ve Cloud'a Kurmak
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kubernetes-cluster-olusturmak" class="md-nav__link">
    <span class="md-ellipsis">
      Kubernetes Cluster'ı Oluşturmak
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="İçindekiler">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      İçindekiler
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#nixos-generator-ile-iso-docker-image-ve-vm-olusturma" class="md-nav__link">
    <span class="md-ellipsis">
      NixOS-Generator ile ISO, Docker Image ve VM oluşturma
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nixosu-uzak-sistemlere-ve-clouda-kurmak" class="md-nav__link">
    <span class="md-ellipsis">
      NixOS'u Uzak Sistemlere ve Cloud'a Kurmak
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kubernetes-cluster-olusturmak" class="md-nav__link">
    <span class="md-ellipsis">
      Kubernetes Cluster'ı Oluşturmak
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/LinuxTurkey/nix-ogreniyoruz/edit/main/src/nixos_cloud_ve_uzak_ortam.md" title="Düzenle" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/LinuxTurkey/nix-ogreniyoruz/raw/main/src/nixos_cloud_ve_uzak_ortam.md" title="Sayfanın kaynağını görüntüle" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<h1 id="nixosu-cloud-ve-uzak-ortamlara-deploy-etmek">NixOS'u Cloud ve Uzak Ortamlara Deploy Etmek</h1>
<p>İlk yazımızda bahsettiğim <code>nix-gernerator</code> aracından tekrar bahsederek konuya girmek istiyorum.</p>
<p>Tek bir konfigürasyonu kullanarak <a href="https://github.com/nix-community/nixos-generators">nix-generator</a> aracı ile alttaki bütün ortamlara çıktı üretebilirsiniz.</p>
<table>
<thead>
<tr>
<th>format</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>amazon</td>
<td>Amazon EC2 image</td>
</tr>
<tr>
<td>azure</td>
<td>Microsoft azure image (Generation 1 / VHD)</td>
</tr>
<tr>
<td>cloudstack</td>
<td>qcow2 image for cloudstack</td>
</tr>
<tr>
<td>do</td>
<td>Digital Ocean image</td>
</tr>
<tr>
<td>docker</td>
<td>Docker image (uses systemd to run, probably only works in podman)</td>
</tr>
<tr>
<td>gce</td>
<td>Google Compute image</td>
</tr>
<tr>
<td>hyperv</td>
<td>Hyper-V Image (Generation 2 / VHDX)</td>
</tr>
<tr>
<td>install-iso</td>
<td>Installer ISO</td>
</tr>
<tr>
<td>install-iso-hyperv</td>
<td>Installer ISO with enabled hyper-v support</td>
</tr>
<tr>
<td>iso</td>
<td>ISO</td>
</tr>
<tr>
<td>kexec</td>
<td>kexec tarball (extract to / and run /kexec_nixos)</td>
</tr>
<tr>
<td>kexec-bundle</td>
<td>same as before, but it's just an executable</td>
</tr>
<tr>
<td>kubevirt</td>
<td>KubeVirt image</td>
</tr>
<tr>
<td>linode</td>
<td>Linode image</td>
</tr>
<tr>
<td>lxc</td>
<td>create a tarball which is importable as an lxc container, use together with lxc-metadata</td>
</tr>
<tr>
<td>lxc-metadata</td>
<td>the necessary metadata for the lxc image to start, usage: <code>lxc image import $(nixos-generate -f lxc-metadata) $(nixos-generate -f lxc)</code></td>
</tr>
<tr>
<td>openstack</td>
<td>qcow2 image for openstack</td>
</tr>
<tr>
<td>proxmox</td>
<td><a href="https://pve.proxmox.com/wiki/VMA">VMA</a> file for proxmox</td>
</tr>
<tr>
<td>proxmox-lxc</td>
<td>LXC template for proxmox</td>
</tr>
<tr>
<td>qcow</td>
<td>qcow2 image</td>
</tr>
<tr>
<td>raw</td>
<td>raw image with bios/mbr. for physical hardware, see the 'raw and raw-efi' section</td>
</tr>
<tr>
<td>raw-efi</td>
<td>raw image with efi support. for physical hardware, see the 'raw and raw-efi' section</td>
</tr>
<tr>
<td>sd-aarch64</td>
<td>Like sd-aarch64-installer, but does not use default installer image config.</td>
</tr>
<tr>
<td>sd-aarch64-installer</td>
<td>create an installer sd card for aarch64. For cross compiling use <code>--system aarch64-linux</code> and read the cross-compile section.</td>
</tr>
<tr>
<td>vagrant-virtualbox</td>
<td>VirtualBox image for <a href="https://www.vagrantup.com/">Vagrant</a></td>
</tr>
<tr>
<td>virtualbox</td>
<td>virtualbox VM</td>
</tr>
<tr>
<td>vm</td>
<td>only used as a qemu-kvm runner</td>
</tr>
<tr>
<td>vm-bootloader</td>
<td>same as vm, but uses a real bootloader instead of netbooting</td>
</tr>
<tr>
<td>vm-nogui</td>
<td>same as vm, but without a GUI</td>
</tr>
<tr>
<td>vmware</td>
<td>VMWare image (VMDK)</td>
</tr>
</tbody>
</table>
<p><sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup></p>
<p>Sayfasında detaylarına bakabilirsiniz. Uygulama olarak Nix paket yöneticisi ile kurulum yapıp kullanılabiliyor veya flake dosyasına konfigürasyon olarak da girilebiliyor. Yani illa NixOS sahibi olmak zorunda değiliz. Yani örneğin bir Ubuntu üzerinde Nix paket yöneticisini kurup bu aracı kullanabiliriz.</p>
<p>Elimizdeki Konfigürasyon üzerinden bu aracı kullanarak ISO, Docker Image ve VM oluşturmak çok vakit alcaktır. Bu nedenle Github sayfamda önceki yazılarımızda kullandığımız repo'da ilk oluşturduğumuz base konfigürasyonu kullanarak uygulamaları yapacağız.</p>
<p>Bunun için alttaki komutla base brach'i klonlayalım.</p>
<div class="highlight"><pre><span></span><code>git<span class="w"> </span>clone<span class="w"> </span>-b<span class="w"> </span>base<span class="w"> </span>https://github.com/muratcabuk/nixos-sample-dotfiles.git
</code></pre></div>
<h2 id="nixos-generator-ile-iso-docker-image-ve-vm-olusturma">NixOS-Generator ile ISO, Docker Image ve VM oluşturma</h2>
<p><strong>ISO Oluşturmak</strong></p>
<ul>
<li><code>Configuration.nix</code> dosyasında <code>boot.loader.grub.enable = true;</code> satırını <code>boot.loader.grub.enable = pkgs.lib.mkForce true;</code> olarak değiştiriyoruz.</li>
<li><code>Configuration.nix</code> dosyasında <code>networking.networkmanager.enable = true;</code> satırını <code>networking.networkmanager.enable = false;</code> olarak değiştiriyoruz.</li>
<li>Daha sonra <code>nix profile install github:nix-community/nixos-generators</code> komutuyla kurulumu yapıyoruz. Son olarak <code>nixos-generate -f install-iso -c configuration.nix</code> komutu ile ISO dosyamızı oluşturuyoruz.</li>
</ul>
<p>Bu biraz vakit alcaktır. İşlem bittiğinde <code>/nix/store/4sqxkbx1im3wsrdfrzxcyklkaynq3mpy-nixos-23.11pre536306.12bdeb01ff9e-x86_64-linux.iso/iso/nixos-23.11pre536306.12bdeb01ff9e-x86_64-linux.iso</code> adresine benzer şekilde ISO dosyasının adresini görebilirsiniz.</p>
<p><strong>Ddocker Image Oluşturmak</strong></p>
<p>Mesela docker image oluşturmak için <code>nixos-generate -f docker -c configuration.nix</code> komutunu kullanmak yeterli olacaktır.</p>
<p>komutu çalıştırdığınızda <code>/nix/store/5bmzn6rrjqjb3j1vn7h09vplfjn960r2-tarball/tarball/nixos-system-x86_64-linux.tar.xz</code> adresine benzer şekilde docker image dosyasının adresini görebilirsiniz. Bu paketi load etmek için alttaki komutu çalıştırabilirsiniz.</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>import<span class="w">  </span>/nix/store/5bmzn6rrjqjb3j1vn7h09vplfjn960r2-tarball/tarball/nixos-system-x86_64-linux.tar.xz

sha256:31f06f10c13b90698c2764c16f0b2a9c50d52113f3b8ddf9771c3c4c1070dcfe

docker<span class="w"> </span>image<span class="w"> </span>ls
REPOSITORY<span class="w">                                                          </span>TAG<span class="w">                         </span>IMAGE<span class="w"> </span>ID<span class="w">       </span>CREATED<span class="w">         </span>SIZE
&lt;none&gt;<span class="w">                                                              </span>&lt;none&gt;<span class="w">                      </span>31f06f10c13b<span class="w">   </span><span class="m">8</span><span class="w"> </span>seconds<span class="w"> </span>ago<span class="w">   </span><span class="m">1</span>.07GB
&lt;none&gt;<span class="w">                                                              </span>&lt;none&gt;<span class="w">                      </span>925f5d1664a6<span class="w">   </span><span class="m">4</span><span class="w"> </span>days<span class="w"> </span>ago<span class="w">      </span><span class="m">1</span>.11GB
&lt;none&gt;<span class="w">                                                              </span>&lt;none&gt;<span class="w">                      </span>bb873de60531<span class="w">   </span><span class="m">4</span><span class="w"> </span>days<span class="w"> </span>ago<span class="w">      </span><span class="m">3</span>.02GB
&lt;none&gt;<span class="w">                                                              </span>&lt;none&gt;<span class="w">                      </span>1b6b71ea5c5c<span class="w">   </span><span class="m">4</span><span class="w"> </span>days<span class="w"> </span>ago<span class="w">      </span>966MB
</code></pre></div>
<ul>
<li>
<p>Docker için doğrudan Nix paket yöneticisinde de bir çok paket var. Kendi <a href="https://nix.dev/tutorials/nixos/building-and-running-docker-images.html">resmi developer sayfasında</a> da konu ilgili bir başlık var.</p>
</li>
<li>
<p>Nix paket yöneticisi içinde de docker ile ilgili bir çok örnek bulabilirsiniz. Örneğin <a href="https://github.com/NixOS/nixpkgs/blob/master/pkgs/build-support/docker/examples.nix">şu sayfada</a> aklınıza gelebilecek hemen hemen bir çok örnek var.</p>
</li>
<li>
<p>Bir de <a href="https://fasterthanli.me/series/building-a-rust-service-with-nix/part-11">şu harika örneği</a> inceleyebilirsiniz. Baştan sona bir uygulamanın dev ortamının ve paketin oluşturulması ve uygulamanın docker image'ı haline getirilmesi sürecinin tamamını Nix ile anlatıyor.</p>
</li>
<li>
<p>Nixpkgs içinde Docker image'larını oluştururken çok daha detaylı çalışabileceğiniz <a href="https://nixos.org/manual/nixpkgs/stable/#sec-pkgs-dockerTools">dockerTools</a> adında ir paket bulunuyor. Buna da bakmanızı tavsiye ederim.</p>
</li>
<li>
<p>Diğer bir araç da <a href="https://docs.hercules-ci.com/arion/">Arion</a>. Bu aracı daha doğrusu paketi kullanarak Docker Compose'daki gibi aynı anda bir den fazla uygulamayı hem container yapabilir hem de çalıştırabilirsiniz.</p>
</li>
</ul>
<p><strong>VM Oluşturmak</strong></p>
<p>Virtualbox virtual Machine oluşturmak için öncelikle <code>configuration.nix</code> dosyasındaki disk bilgisini açıklama satırına alarak devre dışı bırakıyoruz.</p>
<div class="highlight"><pre><span></span><code>  <span class="c1"># fileSystems.&quot;/&quot; =</span>
  <span class="c1">#   { device = &quot;/dev/disk/by-uuid/5b06bc26-f363-4810-bc0d-a44a9c7cdc12&quot;;</span>
  <span class="c1">#     fsType = &quot;ext4&quot;;</span>
  <span class="c1">#   };</span>
</code></pre></div>
<p>Daha sonra <code>nixos-generate -f virtualbox -c configuration.nix</code> komutunu kullanarak VirtualBox için sanal bir makine oluşturmuş olacağız.</p>
<p>İşlem bittiğinde <code>/nix/store/7qy9wvm93p4ycwq2rxf6184xj8bna32c-nixos-ova-23.11pre536306.12bdeb01ff9e-x86_64-linux/nixos-23.11pre536306.12bdeb01ff9e-x86_64-linux.ova</code> şeklinde bir dizinde VirtualBox image'ımızın oluştuğunu görebiliriz.</p>
<h2 id="nixosu-uzak-sistemlere-ve-clouda-kurmak">NixOS'u Uzak Sistemlere ve Cloud'a Kurmak</h2>
<p>Burada karşımıza alttaki araçlar çıkıyor. Bir iki araç daha var ama ya geliştirmeleri durmuş ya da çok popüler değil o yüzden listeye eklemedim.</p>
<ul>
<li><a href="https://github.com/nix-community/nixos-anywhere">NixOS Everywhere</a>: Yıldız Sayısı 950. Temel amacı SSH ile bağlanılabilen bir sisteme elinizdeki Flake ile kurulum yapmak. Nix Everywhere'de cloud kısmı yok ancak <a href="https://github.com/nix-community/disko">Disco</a> eklentisi sayesinde disk formatlama ve biçimlendirme işlerini de yapabiliyor.</li>
<li>Detaylar için <a href="https://github.com/nix-community/nixos-anywhere/blob/main/docs/howtos/INDEX.md">resmi dokümanına</a> bakabilirsiniz.</li>
<li><strong>Yetenekleri</strong><ul>
<li>Disk formatlama ve bölümlendirme</li>
<li>NixOS'un kurulumu ve konfigürasyonu</li>
<li>Uygulama kurabilir</li>
<li>Ayrıca ekstra dosya konulacaksa onları ekleyebilir</li>
</ul>
</li>
<li><strong>Nasıl Çalışır?</strong><ul>
<li>SSH ile bağlanılabiliyor olması lazım.</li>
<li>SSh ile ayarları sayfasında bulabilirsiniz.</li>
<li>Karşı makinede NixOS kurulu olmalı yada installer çalışıyor olmalı. Eğer o yoksa kexec ile makine boot edilmiş olmalı.</li>
<li>şu komutla sisteme kurulum yapılır <code>nix run github:nix-community/nixos-anywhere -- --flake '.#myconfig' nixos@remote-host-ip-address</code></li>
</ul>
</li>
<li><a href="https://github.com/serokell/deploy-rs/">deploy-rs</a>: Yıldız Sayısı (1100)</li>
<li><strong>Yetenekleri</strong><ul>
<li>Birden fazla profili deploy edebiliyor</li>
<li>Rust diliyle yazılmış çok hızlı bir araç</li>
<li>Kurulum işlemleri ters giderse sistemi temiz bir şekilde rollback yapabiliyor.</li>
<li>Temel amacı bir flake üzerideki profili alıp tanımlanan makine (node) üzerine kurmaktır.</li>
<li>Blok sitesinden baştan sona <a href="https://serokell.io/blog/deploy-rs">bir örnek</a>. Diğer bir örnek Github sayfasındaki tam sistem kurulumu gösteren <a href="https://github.com/serokell/deploy-rs/tree/master/examples/system">örnek</a>.</li>
</ul>
</li>
<li><strong>Nasıl Çalışır</strong><ul>
<li>Flake içinde node (makine) tanımı yapılır (ip, ssh port, kullanıcı adı, parola, ssh key, vb.)</li>
<li>daha sonra deploy-rs cli kullanılarak <code>deploy-rs --flake ./flake.nix --profile defaultPackage --node myNode1 --node myNode2</code> komutu ile kurulum yapılır.</li>
</ul>
</li>
<li><a href="https://github.com/zhaofengli/colmena">colmena</a>: Yıldız sayısı 930. Rust diliyle yazılmış diğer bir deployment aracı.<ul>
<li><strong>Yetenekleri</strong></li>
<li>Node'lara tag vererek gruplandırmak mümkün.</li>
<li>Nixops network konfigurayonu ile uyumlu değişiklik yapmadan kullanılabilir.</li>
<li>Local makine deployment'ı da yapabiliyor.</li>
<li>Paralel deployment yapabiliyor. Zaten Rust ile yazılı olduğu için de hızlı.</li>
<li>Cloud deployment yeteneği yok. Sadece local ve uzak makinelere kurulum yapabiliyor.</li>
<li><strong>Kullanımı</strong> Nixops'a çok benziyor. YAni bir flake deployment'ı yok daha çok sunucu kurulumlar için uygun görünüyor.</li>
</ul>
</li>
<li><a href="https://github.com/DBCDK/morph">Morph</a>: Yıldız Sayısı 700</li>
<li>Temel amacı birden fazla host üzerinde NixOS'u yönetmek. Kurulum yapıp health check yapabiliyor.</li>
<li>Daha önce Ansible, Chef veya Puppet gibi araçlar kullandıysanız tam olarak onların yaptığı için NixOS ve Nix paket yöneticisini kullanarak yapıyor.</li>
<li>Çok basit bir kullanımı var. Bir nix dosyasına makinelerin bilgilerini yazdıktan morph komutu ile elinizdeki konfigürasyonu toplu halde makinelerinize uygulayabiliyorsunuz.</li>
<li>
<p><a href="https://github.com/NixOS/nixops">Nixops</a>: Yıldız Sayısı 1700. Araçlardan en dikkat çekeni Nixops. Temelde Nixops bir flake'i alıp onu belirtilen makineye kurmaya odaklanmıyor. Bunu Nix Everywhere veya Deploy-rs ile yapabiliriz. Nixops amacı çok farklı ortamlardaki makinelere bağlanmak ve onlara Nixops konfigürasyonunda belirttiğimiz paketleri ve uygulamaları kurmaktır. Toplu halde paket kurmak, toplu halde sistemleri destroy etmek gibi işlemleri yapabilir. Yani daha çok sunucu işlemleri ve konfigürasyonu için kullanılır.</p>
</li>
<li>
<p>Nixops'un yeni versiyonu Nixops 2.0'da bazı değişikliliklere gidilmiş. Yeni versiyonla ilgili olarak da elimizdeki tek kaynak da <a href="https://nixops.readthedocs.io/en/latest/introduction.html">resmi dokümanlar</a>. Ancak bu versiyondaki bazı yapısal problemlerden dolayı da Rust diliyle yeniden yazmaya karar verilmiş. Bu yeni versiyonu da tamamen yeni bir Github hesabından devam ettiriyorlar. <a href="https://github.com/nixops4/nixops4">Şu linkten</a> takip edebilirsiniz. Mevzu halen <a href="https://github.com/NixOS/nixops/issues/1574">şu issue'da</a> tartışılıyor.</p>
</li>
<li>
<p>Elimizdeki çalışan en temiz versiyon olarak 1.7'nin <a href="https://releases.nixos.org/nixops/nixops-1.7/manual/manual.html">resmi dokümanlarına da şu linkten</a> erişebilirsiniz.</p>
</li>
<li>
<p>Konu ile ilgili Türkçe olarak bulabileceğiniz belki tek içerik <a href="https://www.youtube.com/watch?v=VIBPfXmkvr8&amp;t=4309s">şu Youtube videosu</a> olacaktır. Bunu da izlemenizi tavsiye ederim. Çünkü videonun yarısında Nix paket yöneticisi ve NixOS hakkında çok güzel bilgiler veriliyor.</p>
</li>
<li>
<p>Baştan sona tüm detaylarıyla Nixops'un anlatıldığı <a href="https://www.thedroneely.com/posts/nixops-towards-the-final-frontier/">bir makale</a>.</p>
</li>
<li>
<p><strong>Yetenekleri</strong></p>
<ul>
<li>Local veya uzak makinelere kurulum yapabilirsiniz.</li>
<li>Hetzner fiziksel makinelere kurulum yapabilirsiniz.</li>
<li>Libvirt (Qemu) üzerinde VM oluşturabilirsiniz.</li>
<li>VirtualBox üzerinde çalışan bir NixOS üzerinde kurulum ve değişiklik yapabilirsiniz. Ancak buraya dikkat çekmek istiyorum Nixops Virtualbox üzerinden makine oluşturmaz sadece vorolan makşneye bağlanablir.</li>
<li>AWS (Amazon Web Services), GCE (Google Compute Engine), Azure (Microsoft Azure), Digital Ocean gibi cloud ortamlarına kurulum yapabilir hatta network, storage, IP, firewall gibi</li>
<li><a href="https://nixops.readthedocs.io/en/latest/manual/migrating.html">Şu kaynakta da</a> Versiyon 1'den 2'ye geçişle alakalı konulara değinilmiş.</li>
</ul>
</li>
</ul>
<p>Son tahlilde eğer 1.7 kullanmak istiyorsak özellikle ilgili NixOS versiyonunu bulup onun üzerinden nixops'u yüklememiz gerekiyor. Nixops 1.7 versiyonunun bulunduğu Nixpks'nin en son versiyonu <a href="https://github.com/NixOS/nixpkgs/blob/nixos-23.05/pkgs/tools/package-management/nixops/default.nix">NixOS 23.05'de</a> bulabiliyoruz. O zaman registry (channel) olarak 23.05 versiyonunu registry'lere ekleyip bu versiyon üzeridnen Nixops'u kurabiliriz.</p>
<div class="highlight"><pre><span></span><code><span class="w">     </span>nix<span class="w"> </span>registry<span class="w"> </span>add<span class="w"> </span>nixpkgs2305<span class="w"> </span>github:NixOS/nixpkgs/nixos-23.05

<span class="w">     </span><span class="nb">export</span><span class="w"> </span><span class="nv">NIXPKGS_ALLOW_INSECURE</span><span class="o">=</span><span class="m">1</span>

<span class="w">     </span>nix<span class="w"> </span>profile<span class="w"> </span>install<span class="w"> </span>flake:nixpkgs2305#nixops

<span class="w">     </span>nixops<span class="w"> </span>--version
</code></pre></div>
<p>Nixops'u kullanırken flake içine veya flake'den bağımsız olarak bir dosya içine konfigürasyonu yazabiliriz. Bu dosya içinde birden fazla makine tanımlayabiliriz. Bu makinelere bağlanarak NixOS konfigürasyonunu uygulayabiliriz.</p>
<p>Flake içinde tanımlama yaparken alttaki gibi bir template kullanmalısınız. <code>nixopsConfigurations</code> bloğuna bakacak olursanız <code>network</code>, <code>defaults</code> ve <code>machine</code> bloklarını görebilirsiniz. <code>network</code> bloğunda genel network ayarları yapılırken <code>machine</code> bloğunda ise tekbir makinenin tanımını gösteriyor. Defaults bloğu ise tüm makinelere uygulanacak genel ayarları gösteriyor. Konfigürasyondaki databasefile kısmı ise eskiye uyumluluk için gerekiyor. Bu dosya içinde deployment'lar ve makine bilgileri tutuluyor.</p>
<p>Network bloğuna eğer örneğin bir AWS konfigürasyonu yapacak olursak bu durumda makinelerimiz ve diğer AWS kaynakları AWS üzerinden Nixops tarafından oluşturulacaktır. Alttaki örnek Virtualbox üzerinde bir makine oluşturmak için kullanılabilir.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># flake.nix</span>
<span class="p">{</span>
<span class="ss">description</span> <span class="o">=</span> <span class="s2">&quot;Murat Cabuk NixOS Configuration&quot;</span><span class="p">;</span>

<span class="ss">inputs</span> <span class="o">=</span> <span class="p">{</span>
  nixpkgs<span class="o">.</span><span class="ss">url</span> <span class="o">=</span> <span class="s2">&quot;github:NixOS/nixpkgs/nixos-23.11&quot;</span><span class="p">;</span>
  nixops<span class="o">.</span><span class="ss">url</span> <span class="o">=</span> <span class="s2">&quot;github:NixOS/nixops&quot;</span><span class="p">;</span>
<span class="p">};</span>

<span class="ss">outputs</span> <span class="o">=</span> <span class="p">{</span> self<span class="p">,</span> nixpkgs<span class="p">,</span> <span class="o">...</span> <span class="p">}@</span>inputs<span class="p">:</span> <span class="p">{</span>

nixopsConfigurations<span class="o">.</span><span class="ss">default</span> <span class="o">=</span> <span class="p">{</span>

          <span class="k">inherit</span> nixpkgs<span class="p">;</span>

          <span class="ss">network</span> <span class="o">=</span>  <span class="p">{</span>
              <span class="ss">description</span> <span class="o">=</span> <span class="s2">&quot;my virtual network&quot;</span><span class="p">;</span>
              <span class="ss">enableRollback</span> <span class="o">=</span> <span class="no">true</span><span class="p">;</span>
              storage<span class="o">.</span><span class="ss">legacy</span> <span class="o">=</span> <span class="p">{</span>
                  <span class="ss">databasefile</span> <span class="o">=</span> <span class="s2">&quot;~/.nixops/deployments.nixops&quot;</span><span class="p">;</span>
              <span class="p">};</span>

              deployment<span class="o">.</span><span class="ss">targetEnv</span> <span class="o">=</span> <span class="s2">&quot;virtualbox&quot;</span><span class="p">;</span>
              deployment<span class="o">.</span>virtualbox<span class="o">.</span><span class="ss">memorySize</span> <span class="o">=</span> <span class="mi">4096</span><span class="p">;</span> <span class="c1"># megabytes</span>
              deployment<span class="o">.</span>virtualbox<span class="o">.</span><span class="ss">vcpu</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="c1"># number of cpus</span>
              deployment<span class="o">.</span>virtualbox<span class="o">.</span><span class="ss">headless</span> <span class="o">=</span> <span class="no">true</span><span class="p">;</span>

          <span class="p">};</span>

          <span class="ss">defaults</span> <span class="o">=</span> <span class="p">{</span>
              <span class="ss">imports</span> <span class="o">=</span> <span class="p">[</span> <span class="p">];</span>
          <span class="p">};</span>

          <span class="ss">machine</span> <span class="o">=</span> <span class="p">{</span> config<span class="p">,</span> pkgs<span class="p">,</span> <span class="o">...</span>  <span class="p">}:</span> <span class="p">{</span>
              <span class="ss">services</span> <span class="o">=</span> <span class="p">{</span>
                httpd<span class="o">.</span><span class="ss">enable</span> <span class="o">=</span> <span class="no">true</span><span class="p">;</span>
                openssh<span class="o">.</span><span class="ss">enable</span> <span class="o">=</span> <span class="no">true</span><span class="p">;</span>
              <span class="p">};</span>

              environment<span class="o">.</span><span class="ss">systemPackages</span> <span class="o">=</span> <span class="k">with</span> pkgs<span class="p">;</span> <span class="p">[</span> vim git htop<span class="p">];</span>
          <span class="p">};</span>
  <span class="p">};</span>

  nixosConfigurations<span class="o">.</span><span class="ss">nixos</span> <span class="o">=</span> nixpkgs<span class="o">.</span>lib<span class="o">.</span>nixosSystem <span class="p">{</span>
    <span class="ss">system</span> <span class="o">=</span> <span class="s2">&quot;x86_64-linux&quot;</span><span class="p">;</span>
    <span class="ss">modules</span> <span class="o">=</span> <span class="p">[</span> <span class="l">/configuration.nix</span> <span class="p">];</span>
    <span class="p">};</span>
  <span class="p">};</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="kubernetes-cluster-olusturmak">Kubernetes Cluster'ı Oluşturmak</h2>
<ul>
<li><a href="https://github.com/saschagrunert/kubernix">Kubenix</a>: Bu araç Rust dili kullnılarak yazılmış amaç development ortamı için Kubernetes cluster'ı oluşturmak.</li>
</ul>
<p>Nixops ile Kubernetes kurulumu için fikir olması adına altta 2 Github projesinin linkini paylaşıyorum.</p>
<ul>
<li>Sadene Kubernetes değil ELK, Kafka, Mesos ve Postgres cluster'larının da Nixops ile nasıl oluşturabilceğinize örnek olarak <a href="https://github.com/thpham/magics/tree/master/k8s-cluster">şu linkten</a> inmceleyebilirsiniz.</li>
<li><a href="https://gist.github.com/offlinehacker/5f77f4ae9accc1859a4381429bd6fdbb">Bu örnek</a> de sade bir şekilde 6 sunuculu bir Kubernetes cluster'ının nasıl yapılabileceğini gösteriyor.</li>
</ul>
<p>Evet bu yazmızda bu kadar. Fırsat buldukça NixOS hakkındaki deneyimlerimi paylaşmaya devam edeceğim. Umarım faydalı olmuştur diğer yazılarımda görüşmek ümidiyle.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p><a href="https://github.com/nix-community/nixos-generators">Tablo Kaynağı</a>&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      <script id="__config" type="application/json">{"base": ".", "features": ["navigation.instant", "navigation.instant.progress", "navigation.sections", "navigation.prune", "content.action.edit", "content.action.view", "search.suggest", "search.highlight"], "search": "assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Kopyaland\u0131", "clipboard.copy": "Kopyala", "search.result.more.one": "Bu sayfada 1 tane daha", "search.result.more.other": "Bu sayfada # tane daha", "search.result.none": "E\u015fle\u015fen dok\u00fcman bulunamad\u0131", "search.result.one": "1 dok\u00fcman bulundu", "search.result.other": "# dok\u00fcman bulundu", "search.result.placeholder": "Aramaya ba\u015flamak i\u00e7in yaz\u0131n", "search.result.term.missing": "Eksik", "select.version": "Versiyon se\u00e7"}, "version": null}</script>
    
    
      <script src="assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>